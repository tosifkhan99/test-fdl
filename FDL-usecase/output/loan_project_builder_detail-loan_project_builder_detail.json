{"namespace":"default","name":"loan_project_builder_detail-loan_project_builder_detail","type":"BATCH","providers":{"readers":[{"name":"labt_connection","type":"QUERY","provider":"com.fininfra.aqua.action.extn.jdbc.JDBCReader","params":{"user":"source-db-user","password":"source-db-password","url":"source-db-url","driver":"org.postgresql.Driver"}},{"name":"gam_connection","type":"QUERY","provider":"com.fininfra.aqua.action.extn.jdbc.JDBCReader","params":{"user":"source-db-user","password":"source-db-password","url":"source-db-url","driver":"org.postgresql.Driver"}},{"name":"blm_pjm_connection","type":"QUERY","provider":"com.fininfra.aqua.action.extn.jdbc.JDBCReader","params":{"user":"source-db-user","password":"source-db-password","url":"source-db-url","driver":"org.postgresql.Driver"}}],"transformations":[],"destinations":[{"name":"flowLogger","provider":"com.fininfra.aqua.defn.config.common.FlowLogger","params":{"filePath":"./Logger.out","format":"text/plain"}},{"name":"loan_project_builder_detail","type":"TUPLE","provider":"com.fininfra.aqua.extn.purge.consumer.PurgeWriter","params":{"acks":"1","bootstrap.servers":"localhost:9092"},"broadcast":"com.fininfra.aqua.extn.kafka.KafkaProducerFunction"}],"errdestinations":[{"name":"loan_project_builder_detail","provider":"com.fininfra.aqua.extn.kafka.KafkaErrorWriter","params":{"acks":"1","bootstrap.servers":"localhost:9092","url":"jdbc:postgresql:postgres","driver":"org.postgresql.Driver","user":"dheerajkumar","password":""},"broadcast":"com.fininfra.aqua.extn.kafka.KafkaProducerFunction"}],"validators":[]},"onerror":[{"name":"loan_project_builder_detail","destination":"loan_project_builder_detail","params":{"topic":"error","url":"jdbc:postgresql:postgres","driver":"org.postgresql.Driver","user":"dheerajkumar","password":""}}],"onvalidationerror":[],"source":{"empty":true,"meta":{},"views":[{"name":"labt","reader":"labt_connection","params":{"table":"loan_account_bldr_tbl","query":"select * from loan_account_bldr_tbl","partitionColumn":"","lowerBound":"","upperBound":"","numPartitions":""}},{"name":"gam","reader":"gam_connection","params":{"table":"general_acct_mast_table","query":"select * from general_acct_mast_table","partitionColumn":"","lowerBound":"","upperBound":"","numPartitions":""}},{"name":"blm_pjm","reader":"blm_pjm_connection","params":{"table":"blm_proj_master_tbl","query":"select * from blm_proj_master_tbl","partitionColumn":"","lowerBound":"","upperBound":"","numPartitions":""}}],"pageSize":"1000","query":"SELECT labt.builder_id as builder_identification, labt.project_id as project_identification, labt.del_flg as record_active_flag, labt.block_no as block_number, labt.unit_no as unit_number, labt.lchg_time as data_persistance_time, labt.rcre_time as source_creation_time, labt.bank_id as bank_identification, s_labt.bank_id||'.'||s_gam.foracid as business_column_value, gam.foracid as account_identification, blm_pjm.crncy_code as currency_code, blm_pjm.proj_name as project_name, blm_pjm.site_addr1 as site_address1, blm_pjm.site_addr2 as site_address2, blm_pjm.site_city_code as site_city_code, blm_pjm.site_state_code as site_state_code, blm_pjm.site_country_code as site_country_code, blm_pjm.site_pin_code as site_pin_code, blm_pjm.site_tel_num1 as site_telephone_number1, blm_pjm.site_tel_num2 as site_telephone_number2, blm_pjm.site_fax_num as site_fax_number, blm_pjm.site_contact_person as site_contact_person, blm_pjm.email_id as email_identification, blm_pjm.landmark as landmark, blm_pjm.proj_suspend_flg as project_suspended_flag, blm_pjm.interest_rate as interest_rate, blm_pjm.start_date as start_date, blm_pjm.exp_end_date as expected_end_date, blm_pjm.project_area as project_area, blm_pjm.proj_area_unit as project_area_unit, blm_pjm.expected_rate as expected_rate, blm_pjm.rate_area_unit as area_unit_for_expected_rate, blm_pjm.const_area as construction_area, blm_pjm.const_area_unit as construction_area_unit, blm_pjm.land_acq_cost as land_acquisition_cost, blm_pjm.free_text1 as free_text1, blm_pjm.free_text2 as free_text2, blm_pjm.free_text3 as free_text3, blm_pjm.free_text4 as free_text4, blm_pjm.total_cost as total_cost, blm_pjm.proj_classf as project_classification, blm_pjm.proj_sub_classf as project_sub_classification, blm_pjm.group_code as group_code, blm_pjm.site_addr3 as site_address3 FROM labt"},"validator":{"name":"loan_project_builder_detail","validatorClass":"com.fininfra.aqua.extn.purge.tranPurge.TranPurgeValidator","params":{"bankId":"01"}},"srcevents":[{"namespace":"loan_project_builder_detail","name":"loan_project_builder_detail","steps":[],"procedure":{"namespace":"loan_project_builder_detail","name":"loan_project_builder_detail","logger":"false","inputschema":"{}","execplan":[{"steps":[],"actions":[{"name":"loan_project_builder_detail","condition":[],"destination":"loan_project_builder_detail","params":{"topic":"purgekeys","key_fields":["tran_key","tct","ata","atd","ott","pte"],"acks":"1","bootstrap.servers":"localhost:9092","user":"dheerajkumar","password":"","url":"jdbc:postgresql:postgres","driver":"org.postgresql.Driver"}}],"onsuccess":[]}],"onsuccess":[{"name":"loan_project_builder_detail","condition":[],"destination":"loan_project_builder_detail","params":{"topic":"aqua-purge","value":"{\"type\":\"aqua.purge.tranPurge\",\"data\":{\"bankId\":\"${#get(meta,'bankId')}\",\"toDate\":\"${#get(meta,'toDate')}\"},\"businessDate\":\"${T(java.time.LocalDate).now().toString()}\"}","url":"jdbc:postgresql:postgres","driver":"org.postgresql.Driver","user":"dheerajkumar","password":""}}]}}]}